(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{3026:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/fundamentals/business-logic",function(){return s(7393)}])},4774:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var n=s(5893),o={src:"/_next/static/media/isa.5e2e4cad.svg",height:424,width:923},i=s(5675),r=s.n(i),a=function(e){var t=e.height,s=void 0===t?30:t;return(0,n.jsx)(r(),{className:"isalogo",src:o,height:s,width:70})};function l(e){var t=e.locale;return"es-ES"===(void 0===t?"en-US":t)?(0,n.jsxs)("a",{href:"https://isa.us.es",target:"_blank",rel:"noopener",className:"inline-flex items-center no-underline text-current font-semibold",children:[(0,n.jsx)("span",{className:"mr-2",style:{height:30},children:"Desarrollado por"}),(0,n.jsx)("span",{className:"mr-2",children:(0,n.jsx)(a,{})})]}):(0,n.jsxs)("a",{href:"https://isa.us.es",target:"_blank",rel:"noopener",className:"inline-flex items-center no-underline text-current font-semibold",children:[(0,n.jsx)("span",{className:"mr-2",style:{height:30},children:"Powered by"}),(0,n.jsx)("span",{className:"mr-2",children:(0,n.jsx)(a,{})})]})}},4177:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(5893),o={src:"/_next/static/media/oaslogo.34d328ed.png",height:1155,width:1170,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABCklEQVR42mMAgfKvDArZV7iKcq4x12aellVlAAIHB4fZDnaO4QyGDF4qYdONwnPvMPzJvsb8iwEIbNWd7B2cHG4DcTaDk5NTrI2s8/+QqYanCu4zrHCLcPCyNXA8qcjgJsIAAq4xdtX2No6vLRlcVlszuJbamzg9CW910p32n4E345SMDkPyPsWMrEucd3KuM6x1CrC19EyxL82/w3Yx5yrX95zrHLkM+XcYEnKuMf7Pu8Pw06fSYqWjh8OWnJsMT4Aa/udc44lgyDwnJJZ7kyE78zzvZVtdp5c2Mk7/QyYbHSh8zBCceUZSigEEsi7yyha/ZDCx5nCe6ujsMNXB3tHHzc+Zm4GBgQEAIZZaQkv0A+oAAAAASUVORK5CYII="},i=s(5675),r=s.n(i);function a(e){var t=e.size,s=void 0===t?35:t;return(0,n.jsx)(r(),{className:"oaslogo",src:o,height:s,width:s})}},7845:function(e,t,s){"use strict";var n=s(5893),o=s(1163),i=s(4774),r=s(4177),a={"en-US":"Question? Give us feedback \u2192","es-ES":"Ap\xf3rtanos feedback \u2192"};t.Z={projectLink:"https://github.com/oas-tools",docsRepositoryBase:"https://github.com/oas-tools/oas-tools.github.io/blob/main/pages",titleSuffix:" \u2013 OAS Tools",search:!0,unstable_flexsearch:!0,defaultMenuCollapsed:!0,floatTOC:!0,nextLinks:!0,prevLinks:!0,darkMode:!0,footer:!0,footerEditLink:function(e){return"es-ES"===e.locale?"Edite esta p\xe1gina en GitHub \u2192":"Edit this page on GitHub \u2192"},feedbackLabels:"feedback",feedbackLink:function(){var e=(0,o.useRouter)().locale;return a[e]||a["en-US"]},footerText:function(e){return(0,i.Z)(e)},logo:function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{size:35}),(0,n.jsx)("span",{className:"mx-4 font-extrabold hidden md:inline select-none",title:"OAS Tools: A NodeJS OpenAPI Framework",children:"OAS TOOLS"}),(0,n.jsx)("span",{className:"text-gray-500 font-normal hidden md:inline",children:"A NodeJS OpenAPI framework"})]})},head:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/favicon/apple-touch-icon.png"}),(0,n.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon/favicon-32x32.png"}),(0,n.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon/favicon-16x16.png"}),(0,n.jsx)("link",{rel:"manifest",href:"/favicon/site.webmanifest"}),(0,n.jsx)("link",{rel:"mask-icon",href:"/favicon/safari-pinned-tab.svg",color:"#5bbad5"}),(0,n.jsx)("link",{rel:"shortcut icon",href:"/favicon/favicon.ico"}),(0,n.jsx)("meta",{name:"msapplication-TileColor",content:"#ffffff"}),(0,n.jsx)("meta",{name:"msapplication-config",content:"/favicon/browserconfig.xml"}),(0,n.jsx)("meta",{name:"theme-color",content:"#ffffff"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,n.jsx)("meta",{httpEquiv:"Content-Language",content:"en"}),(0,n.jsx)("meta",{name:"description",content:"OAS Tools: A NodeJS OpenAPI framework"}),(0,n.jsx)("meta",{name:"og:description",content:"OAS Tools: A NodeJS OpenAPI framework"}),(0,n.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,n.jsx)("meta",{name:"twitter:image",content:"https://oas-tools.github.io/public/img/og-image.png"}),(0,n.jsx)("meta",{name:"twitter:site:domain",content:"oas-tools.github.io"}),(0,n.jsx)("meta",{name:"twitter:url",content:"https://oas-tools.github.io"}),(0,n.jsx)("meta",{name:"og:title",content:"OAS Tools: A NodeJS OpenAPI framework"}),(0,n.jsx)("meta",{name:"og:image",content:"https://oas-tools.github.io/public/img/og-image.png"}),(0,n.jsx)("meta",{name:"apple-mobile-web-app-title",content:"OAS Tools"}),(0,n.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-icon-180x180.png"}),(0,n.jsx)("link",{rel:"icon",type:"image/png",sizes:"192x192",href:"/android-icon-192x192.png"}),(0,n.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),(0,n.jsx)("link",{rel:"icon",type:"image/png",sizes:"96x96",href:"/favicon-96x96.png"}),(0,n.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),(0,n.jsx)("meta",{name:"msapplication-TileImage",content:"/ms-icon-144x144.png"})]})}},7393:function(e,t,s){"use strict";s.r(t);var n=s(6042),o=s(9396),i=s(5893),r=s(5585),a=s(7308),l=s(7845),c=s(1151),d=(s(5675),[{name:"blog",children:[{name:"articles",children:[{name:"announcingv3",route:"/blog/articles/announcingv3",frontMatter:{image:"oastools3.png",description:"The new OAS Tools version has been finally released. Take a look to all the new features included in OAS Tools v3.0!",date:"2021-08-14T00:00:00.000Z"}},{name:"meta.json",meta:{announcingv3:"OAS Tools v3 is out!"}}],route:"/blog/articles"},{name:"index",route:"/blog",frontMatter:{title:"Blog",searchable:!1}},{name:"meta.json",meta:{index:{type:"page",theme:{sidebar:!1}},articles:{type:"page",theme:{sidebar:!1}}}}],route:"/blog"},{name:"docs",children:[{name:"cli",route:"/docs/cli",frontMatter:{title:"CLI"}},{name:"compatibility",route:"/docs/compatibility",frontMatter:{title:"Compatibility"}},{name:"customization",children:[{name:"custom-loger",route:"/docs/customization/custom-loger",frontMatter:{title:"Custom logger"}},{name:"external-modules",route:"/docs/customization/external-modules",frontMatter:{title:"External Modules"}},{name:"meta.json",meta:{"project-setup":"Advanced project Setup","custom-loger":"Adding a custom logger","external-modules":"External modules"}},{name:"project-setup",route:"/docs/customization/project-setup",frontMatter:{title:"Project Setup"}}],route:"/docs/customization"},{name:"features",children:[{name:"error-handling",route:"/docs/features/error-handling",frontMatter:{title:"Errors"}},{name:"meta.json",meta:{swaggerUI:"Swagger UI",validation:"Validation",routing:"Routing",security:"Security","error-handling":"Handling errors"}},{name:"routing",route:"/docs/features/routing",frontMatter:{title:"Routing"}},{name:"security",route:"/docs/features/security",frontMatter:{title:"Security"}},{name:"swaggerUI",route:"/docs/features/swaggerUI",frontMatter:{title:"SwaggerUI"}},{name:"validation",route:"/docs/features/validation",frontMatter:{title:"Validation"}}],route:"/docs/features"},{name:"fundamentals",children:[{name:"business-logic",route:"/docs/fundamentals/business-logic",frontMatter:{title:"Bussiness logic"}},{name:"config",route:"/docs/fundamentals/config",frontMatter:{title:"Configuration"}},{name:"meta.json",meta:{openapifile:"OpenAPI file",config:"Configuration","business-logic":"Business logic"}},{name:"openapifile",route:"/docs/fundamentals/openapifile",frontMatter:{title:"OpenAPI file"}}],route:"/docs/fundamentals"},{name:"getting-started",children:[{name:"meta.json",meta:{overview:"Overview",quickstart:"Quickstart"}},{name:"overview",route:"/docs/getting-started/overview",frontMatter:{title:"Overview"}},{name:"quickstart",route:"/docs/getting-started/quickstart",frontMatter:{title:"Quickstart"}}],route:"/docs/getting-started"},{name:"meta.json",meta:{"getting-started":"Getting Started",fundamentals:"Fundamentals",features:"Features",cli:"CLI",customization:"Customization",migration:"Migration Guide",compatibility:"Compatibility"}},{name:"migration",route:"/docs/migration",frontMatter:{title:"Migration"}}],route:"/docs"},{name:"meta.json",meta:{docs:{title:"Docs",type:"page"},blog:{title:"Blog",type:"page"}}}]);globalThis.__nextra_internal__={pageMap:d,route:"/docs/fundamentals/business-logic"};var h=(0,a.withSSG)((0,r.Z)({filename:"business-logic.mdx",route:"/docs/fundamentals/business-logic",meta:{title:"Bussiness logic"},pageMap:d,titleText:"Business logic layer",headings:[{type:"heading",depth:1,children:[{type:"text",value:"Business logic layer",position:{start:{line:2,column:3,offset:3},end:{line:2,column:23,offset:23}}}],position:{start:{line:2,column:1,offset:1},end:{line:2,column:23,offset:23}},value:"Business logic layer"},{type:"heading",depth:2,children:[{type:"text",value:"Controllers",position:{start:{line:5,column:4,offset:405},end:{line:5,column:15,offset:416}}}],position:{start:{line:5,column:1,offset:402},end:{line:5,column:15,offset:416}},value:"Controllers"}],hasH1:!0},l.Z));function p(e){var t=Object.assign({h1:"h1",p:"p",a:"a",h2:"h2",code:"code",ul:"ul",li:"li",blockquote:"blockquote",div:"div",pre:"pre",span:"span"},(0,c.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{children:"Business logic layer"}),"\n",(0,i.jsxs)(t.p,{children:["The business logic layer in OAS Tools is implemented through controllers that are loaded by the router middleware upon initialization. The ",(0,i.jsx)(t.a,{href:"../features/routing",children:"routing section"})," describes how controllers are loaded and how it can be altered to redirect to other controllers. By default, each path declared in the OpenAPI document will have a controller to handle its requests."]}),"\n",(0,i.jsx)(t.h2,{id:"controllers",children:"Controllers"}),"\n",(0,i.jsxs)(t.p,{children:["The controllers are functions that receive the request and response objects from express in order to perform an operation and return a result through ",(0,i.jsx)(t.code,{children:"res.send()"})," or ",(0,i.jsx)(t.code,{children:"res.status().send()"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"When writing a controller you should take into account the name of the exported function (more details in the routing section) and the operation that will be performed."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["GET operations typically receive some parameters. Since controllers receive ",(0,i.jsx)(t.code,{children:"req"})," and ",(0,i.jsx)(t.code,{children:"res"})," objects from express, you can access parsed parameters from ",(0,i.jsx)(t.code,{children:"res.locals.oas.params"})," or in case you want to wark with the raw types received by express you can use ",(0,i.jsx)(t.code,{children:"req.params"})," instead."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["POST and PUT operations receive a request body. Just like with paramaters, the body is accesible from ",(0,i.jsx)(t.code,{children:"res.locals.oas.body"})," or ",(0,i.jsx)(t.code,{children:"req.body"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Some request may include multipart content. This content will be available at ",(0,i.jsx)(t.code,{children:"res.locals.oas.files"})," or as long as a multipart bodyparser is included in the middleware chain."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["OAS Tools is content agnostic, meaning it could receive JSON or XML in request body as long as a body parser middleware is included in the first position of the middleware chain. Check out the ",(0,i.jsx)(t.a,{href:"../customization/project-setup",children:"advanced project setup"})," for more information about possible integrations with other technologies."]}),"\n"]}),"\n",(0,i.jsx)(t.div,{"data-rehype-pretty-code-fragment":"","data-nextra-code":"",children:(0,i.jsx)(t.pre,{children:(0,i.jsxs)(t.code,{"data-language":"js","data-theme":"default",children:[(0,i.jsx)(t.span,{className:"line",children:(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-comment)"},children:"// UserController.js"})}),"\n",(0,i.jsx)(t.span,{className:"line"}),"\n",(0,i.jsxs)(t.span,{className:"line",children:[(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"module"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"exports"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-function)"},children:"postUser"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-function)"},children:"post"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"(req"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" res) {"})]}),"\n",(0,i.jsxs)(t.span,{className:"line",children:[(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"params"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"res"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"locals"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"oas"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"?.params;"})]}),"\n",(0,i.jsxs)(t.span,{className:"line",children:[(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"body"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"res"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"locals"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"oas"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"?.body;"})]}),"\n",(0,i.jsxs)(t.span,{className:"line",children:[(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"files"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"res"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"locals"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"oas"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"?.files;"})]}),"\n",(0,i.jsx)(t.span,{className:"line"}),"\n",(0,i.jsxs)(t.span,{className:"line",children:[(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-comment)"},children:"/* Perform some operation, like saving to a database */"})]}),"\n",(0,i.jsx)(t.span,{className:"line"}),"\n",(0,i.jsxs)(t.span,{className:"line",children:[(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"res"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-function)"},children:".status"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-constant)"},children:"201"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-token-function)"},children:".send"}),(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,i.jsx)(t.span,{className:"line",children:(0,i.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})})})]})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},(0,c.ah)(),e.components),s=t.wrapper;return s?(0,i.jsx)(s,(0,o.Z)((0,n.Z)({},e),{children:(0,i.jsx)(p,(0,n.Z)({},e))})):p(e)}function m(e){return(0,i.jsx)(h,(0,o.Z)((0,n.Z)({},e),{children:(0,i.jsx)(u,{})}))}m.getLayout=h.getLayout,t.default=m}},function(e){e.O(0,[873,743,774,888,179],(function(){return t=3026,e(e.s=t);var t}));var t=e.O();_N_E=t}]);