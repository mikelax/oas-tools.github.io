(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{3454:function(e,n,s){"use strict";var o,t;e.exports=(null==(o=s.g.process)?void 0:o.env)&&"object"===typeof(null==(t=s.g.process)?void 0:t.env)?s.g.process:s(7663)},8364:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/features/routing",function(){return s(4371)}])},4774:function(e,n,s){"use strict";s.d(n,{Z:function(){return a}});var o=s(5893),t={src:"/_next/static/media/isa.5e2e4cad.svg",height:424,width:923},r=s(5675),i=s.n(r),l=function(e){var n=e.height,s=void 0===n?30:n;return(0,o.jsx)(i(),{className:"isalogo",src:t,height:s,width:70})};function a(e){var n=e.locale;return"es-ES"===(void 0===n?"en-US":n)?(0,o.jsxs)("a",{href:"https://isa.us.es",target:"_blank",rel:"noopener",className:"inline-flex items-center no-underline text-current font-semibold",children:[(0,o.jsx)("span",{className:"mr-2",style:{height:30},children:"Desarrollado por"}),(0,o.jsx)("span",{className:"mr-2",children:(0,o.jsx)(l,{})})]}):(0,o.jsxs)("a",{href:"https://isa.us.es",target:"_blank",rel:"noopener",className:"inline-flex items-center no-underline text-current font-semibold",children:[(0,o.jsx)("span",{className:"mr-2",style:{height:30},children:"Powered by"}),(0,o.jsx)("span",{className:"mr-2",children:(0,o.jsx)(l,{})})]})}},4177:function(e,n,s){"use strict";s.d(n,{Z:function(){return l}});var o=s(5893),t={src:"/_next/static/media/oaslogo.34d328ed.png",height:1155,width:1170,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABCklEQVR42mMAgfKvDArZV7iKcq4x12aellVlAAIHB4fZDnaO4QyGDF4qYdONwnPvMPzJvsb8iwEIbNWd7B2cHG4DcTaDk5NTrI2s8/+QqYanCu4zrHCLcPCyNXA8qcjgJsIAAq4xdtX2No6vLRlcVlszuJbamzg9CW910p32n4E345SMDkPyPsWMrEucd3KuM6x1CrC19EyxL82/w3Yx5yrX95zrHLkM+XcYEnKuMf7Pu8Pw06fSYqWjh8OWnJsMT4Aa/udc44lgyDwnJJZ7kyE78zzvZVtdp5c2Mk7/QyYbHSh8zBCceUZSigEEsi7yyha/ZDCx5nCe6ujsMNXB3tHHzc+Zm4GBgQEAIZZaQkv0A+oAAAAASUVORK5CYII="},r=s(5675),i=s.n(r);function l(e){var n=e.size,s=void 0===n?35:n;return(0,o.jsx)(i(),{className:"oaslogo",src:t,height:s,width:s})}},8756:function(e,n,s){"use strict";s.d(n,{Z:function(){return l}});var o=s(4924),t=s(5893),r=s(7294),i=s(7273);function l(e){var n=(0,r.useState)(""),s=n[0],l=n[1];return(0,r.useEffect)((function(){i.Z.initialize((0,o.Z)({startOnLoad:!0,theme:"default",securityLevel:"loose"},"theme","dark")),i.Z.render("diagram-".concat(e.id),String(e.children.props.children).replace(/\\n/g,"<br/>"),(function(e){return l(e)}))}),[]),(0,t.jsx)("div",{id:e.id,className:"mermaid",style:{display:"flex",justifyContent:"center",userSelect:"none",marginTop:"1.5rem"},dangerouslySetInnerHTML:{__html:s}})}},7845:function(e,n,s){"use strict";var o=s(5893),t=s(1163),r=s(4774),i=s(4177),l={"en-US":"Question? Give us feedback \u2192","es-ES":"Ap\xf3rtanos feedback \u2192"};n.Z={projectLink:"https://github.com/oas-tools",docsRepositoryBase:"https://github.com/oas-tools/oas-tools.github.io/blob/main/pages",titleSuffix:" \u2013 OAS Tools",search:!0,unstable_flexsearch:!0,defaultMenuCollapsed:!0,floatTOC:!0,nextLinks:!0,prevLinks:!0,darkMode:!0,footer:!0,footerEditLink:function(e){return"es-ES"===e.locale?"Edite esta p\xe1gina en GitHub \u2192":"Edit this page on GitHub \u2192"},feedbackLabels:"feedback",feedbackLink:function(){var e=(0,t.useRouter)().locale;return l[e]||l["en-US"]},footerText:function(e){return(0,r.Z)(e)},logo:function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Z,{size:35}),(0,o.jsx)("span",{className:"mx-4 font-extrabold hidden md:inline select-none",title:"OAS Tools: A NodeJS OpenAPI Framework",children:"OAS TOOLS"}),(0,o.jsx)("span",{className:"text-gray-500 font-normal hidden md:inline",children:"A NodeJS OpenAPI framework"})]})},head:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/favicon/apple-touch-icon.png"}),(0,o.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon/favicon-32x32.png"}),(0,o.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon/favicon-16x16.png"}),(0,o.jsx)("link",{rel:"manifest",href:"/favicon/site.webmanifest"}),(0,o.jsx)("link",{rel:"mask-icon",href:"/favicon/safari-pinned-tab.svg",color:"#5bbad5"}),(0,o.jsx)("link",{rel:"shortcut icon",href:"/favicon/favicon.ico"}),(0,o.jsx)("meta",{name:"msapplication-TileColor",content:"#ffffff"}),(0,o.jsx)("meta",{name:"msapplication-config",content:"/favicon/browserconfig.xml"}),(0,o.jsx)("meta",{name:"theme-color",content:"#ffffff"}),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,o.jsx)("meta",{httpEquiv:"Content-Language",content:"en"}),(0,o.jsx)("meta",{name:"description",content:"OAS Tools: A NodeJS OpenAPI framework"}),(0,o.jsx)("meta",{name:"og:description",content:"OAS Tools: A NodeJS OpenAPI framework"}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,o.jsx)("meta",{name:"twitter:image",content:"https://oas-tools.github.io/public/img/og-image.png"}),(0,o.jsx)("meta",{name:"twitter:site:domain",content:"oas-tools.github.io"}),(0,o.jsx)("meta",{name:"twitter:url",content:"https://oas-tools.github.io"}),(0,o.jsx)("meta",{name:"og:title",content:"OAS Tools: A NodeJS OpenAPI framework"}),(0,o.jsx)("meta",{name:"og:image",content:"https://oas-tools.github.io/public/img/og-image.png"}),(0,o.jsx)("meta",{name:"apple-mobile-web-app-title",content:"OAS Tools"}),(0,o.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-icon-180x180.png"}),(0,o.jsx)("link",{rel:"icon",type:"image/png",sizes:"192x192",href:"/android-icon-192x192.png"}),(0,o.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),(0,o.jsx)("link",{rel:"icon",type:"image/png",sizes:"96x96",href:"/favicon-96x96.png"}),(0,o.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),(0,o.jsx)("meta",{name:"msapplication-TileImage",content:"/ms-icon-144x144.png"})]})}},4371:function(e,n,s){"use strict";s.r(n);var o=s(6042),t=s(9396),r=s(5893),i=s(5585),l=s(7308),a=s(7845),c=s(1151),h=(s(5675),s(8756)),d=s(3952),p=[{name:"blog",children:[{name:"articles",children:[{name:"announcingv3",route:"/blog/articles/announcingv3",frontMatter:{image:"oastools3.png",description:"The new OAS Tools version has been finally released. Take a look to all the new features included in OAS Tools v3.0!",date:"2021-08-14T00:00:00.000Z"}},{name:"meta.json",meta:{announcingv3:"OAS Tools v3 is out!"}}],route:"/blog/articles"},{name:"index",route:"/blog",frontMatter:{title:"Blog",searchable:!1}},{name:"meta.json",meta:{index:{type:"page",theme:{sidebar:!1}},articles:{type:"page",theme:{sidebar:!1}}}}],route:"/blog"},{name:"docs",children:[{name:"cli",route:"/docs/cli",frontMatter:{title:"CLI"}},{name:"compatibility",route:"/docs/compatibility",frontMatter:{title:"Compatibility"}},{name:"customization",children:[{name:"custom-loger",route:"/docs/customization/custom-loger",frontMatter:{title:"Custom logger"}},{name:"external-modules",route:"/docs/customization/external-modules",frontMatter:{title:"External Modules"}},{name:"meta.json",meta:{"project-setup":"Advanced project Setup","custom-loger":"Adding a custom logger","external-modules":"External modules"}},{name:"project-setup",route:"/docs/customization/project-setup",frontMatter:{title:"Project Setup"}}],route:"/docs/customization"},{name:"features",children:[{name:"error-handling",route:"/docs/features/error-handling",frontMatter:{title:"Errors"}},{name:"meta.json",meta:{swaggerUI:"Swagger UI",validation:"Validation",routing:"Routing",security:"Security","error-handling":"Handling errors"}},{name:"routing",route:"/docs/features/routing",frontMatter:{title:"Routing"}},{name:"security",route:"/docs/features/security",frontMatter:{title:"Security"}},{name:"swaggerUI",route:"/docs/features/swaggerUI",frontMatter:{title:"SwaggerUI"}},{name:"validation",route:"/docs/features/validation",frontMatter:{title:"Validation"}}],route:"/docs/features"},{name:"fundamentals",children:[{name:"business-logic",route:"/docs/fundamentals/business-logic",frontMatter:{title:"Bussiness logic"}},{name:"config",route:"/docs/fundamentals/config",frontMatter:{title:"Configuration"}},{name:"meta.json",meta:{openapifile:"OpenAPI file",config:"Configuration","business-logic":"Business logic"}},{name:"openapifile",route:"/docs/fundamentals/openapifile",frontMatter:{title:"OpenAPI file"}}],route:"/docs/fundamentals"},{name:"getting-started",children:[{name:"meta.json",meta:{overview:"Overview",quickstart:"Quickstart"}},{name:"overview",route:"/docs/getting-started/overview",frontMatter:{title:"Overview"}},{name:"quickstart",route:"/docs/getting-started/quickstart",frontMatter:{title:"Quickstart"}}],route:"/docs/getting-started"},{name:"meta.json",meta:{"getting-started":"Getting Started",fundamentals:"Fundamentals",features:"Features",cli:"CLI",customization:"Customization",migration:"Migration Guide",compatibility:"Compatibility"}},{name:"migration",route:"/docs/migration",frontMatter:{title:"Migration"}}],route:"/docs"},{name:"meta.json",meta:{docs:{title:"Docs",type:"page"},blog:{title:"Blog",type:"page"}}}];globalThis.__nextra_internal__={pageMap:p,route:"/docs/features/routing"};var x=(0,l.withSSG)((0,i.Z)({filename:"routing.mdx",route:"/docs/features/routing",meta:{title:"Routing"},pageMap:p,titleText:"Routing",headings:[{type:"heading",depth:1,children:[{type:"text",value:"Routing",position:{start:{line:5,column:3,offset:108},end:{line:5,column:10,offset:115}}}],position:{start:{line:5,column:1,offset:106},end:{line:5,column:10,offset:115}},value:"Routing"},{type:"heading",depth:2,children:[{type:"text",value:"Loading controllers",position:{start:{line:29,column:4,offset:1164},end:{line:29,column:23,offset:1183}}}],position:{start:{line:29,column:1,offset:1161},end:{line:29,column:23,offset:1183}},value:"Loading controllers"},{type:"heading",depth:3,children:[{type:"text",value:"Through OpenAPI document",position:{start:{line:37,column:5,offset:1599},end:{line:37,column:29,offset:1623}}}],position:{start:{line:37,column:1,offset:1595},end:{line:37,column:29,offset:1623}},value:"Through OpenAPI document"},{type:"heading",depth:4,children:[{type:"text",value:"Default controller names",position:{start:{line:40,column:6,offset:1941},end:{line:40,column:30,offset:1965}}}],position:{start:{line:40,column:1,offset:1936},end:{line:40,column:30,offset:1965}},value:"Default controller names"},{type:"heading",depth:4,children:[{type:"text",value:"x-router-controller",position:{start:{line:68,column:6,offset:3060},end:{line:68,column:25,offset:3079}}}],position:{start:{line:68,column:1,offset:3055},end:{line:68,column:25,offset:3079}},value:"x-router-controller"},{type:"heading",depth:4,children:[{type:"text",value:"Operation Id",position:{start:{line:97,column:6,offset:4493},end:{line:97,column:18,offset:4505}}}],position:{start:{line:97,column:1,offset:4488},end:{line:97,column:18,offset:4505}},value:"Operation Id"},{type:"heading",depth:3,children:[{type:"text",value:"Through JSDoc annotations ",position:{start:{line:127,column:5,offset:5754},end:{line:127,column:31,offset:5780}}},{type:"emphasis",children:[{type:"text",value:"(Experimental)",position:{start:{line:127,column:32,offset:5781},end:{line:127,column:46,offset:5795}}}],position:{start:{line:127,column:31,offset:5780},end:{line:127,column:47,offset:5796}}}],position:{start:{line:127,column:1,offset:5750},end:{line:127,column:47,offset:5796}},value:"Through JSDoc annotations (Experimental)"},{type:"heading",depth:4,children:[{type:"text",value:"The Controller annotation",position:{start:{line:134,column:6,offset:6391},end:{line:134,column:31,offset:6416}}}],position:{start:{line:134,column:1,offset:6386},end:{line:134,column:31,offset:6416}},value:"The Controller annotation"},{type:"heading",depth:4,children:[{type:"text",value:"The Method annotation",position:{start:{line:148,column:6,offset:7096},end:{line:148,column:27,offset:7117}}}],position:{start:{line:148,column:1,offset:7091},end:{line:148,column:27,offset:7117}},value:"The Method annotation"},{type:"heading",depth:4,children:[{type:"text",value:"The Path annotation",position:{start:{line:166,column:6,offset:7865},end:{line:166,column:25,offset:7884}}}],position:{start:{line:166,column:1,offset:7860},end:{line:166,column:25,offset:7884}},value:"The Path annotation"}],hasH1:!0},a.Z));function k(e){var n=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2",ul:"ul",li:"li",blockquote:"blockquote",h3:"h3",h4:"h4",div:"div",pre:"pre",span:"span",em:"em",a:"a"},(0,c.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{children:"Routing"}),"\n",(0,r.jsxs)(n.p,{children:["The routing middleware is registered in the last position of the middleware chain. It is in charge of loading the controllers and redirect the execution flow to the corresponding one depending on the request. Therefore, the controllers are part of the router middleware execution flow, and the ",(0,r.jsx)(n.code,{children:"res.send()"})," function being called by them is the reason why this middleware must be registered last."]}),"\n",(0,r.jsx)(h.Z,{id:"2",children:(0,r.jsx)(n.p,{children:'flowchart LR;\nOAS-PARAMS(Parameter \\n Parser)\nOAS-SECURITY(Security \\nMiddleware)\nOAS-RQVALIDATOR(Request \\n Validator)\nOAS-RPVALIDATOR(Response \\n Validator)\nSEND(["res.send( )"])\nsubgraph OAS-ROUTER [Router Middleware]\nBUILTIN[Built-in middleware]\nCONTROLLERS[Controllers]\nBUILTIN-.->|loads| CONTROLLERS\nend\nOAS-PARAMS--\x3eOAS-SECURITY\nOAS-SECURITY--\x3eOAS-RQVALIDATOR\nOAS-RQVALIDATOR--\x3eOAS-RPVALIDATOR\nOAS-RPVALIDATOR--\x3eOAS-ROUTER\nOAS-RPVALIDATOR-.->|modifies| SEND\nCONTROLLERS-.->|calls| SEND\nstyle OAS-ROUTER stroke-width:3px,rx:5,ry:5'})}),"\n",(0,r.jsx)(n.h2,{id:"loading-controllers",children:"Loading controllers"}),"\n",(0,r.jsx)(n.p,{children:"Controllers are loaded upon initialization and stored in a in-memory map for redirecting to them on each request received by the API. There are two possibilities when it comes to loading controllers:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Loading them through custom fields in the OpenAPI document."}),"\n",(0,r.jsx)(n.li,{children:"Using experimental JSDoc annotations in controllers."}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"These options can't be combined. For consistency reasons, you must stick to one of them."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"through-openapi-document",children:"Through OpenAPI document"}),"\n",(0,r.jsxs)(n.p,{children:["This is the predetermined option, since ",(0,r.jsx)(n.code,{children:"useAnnotations"})," is disabled by default in configuration. It uses custom attributes on the OpenAPI document to redirect to the correct controller each time. However, OAS Tools provides an auxiliary function capable of generate names in case those attributes are not set."]}),"\n",(0,r.jsx)(n.h4,{id:"default-controller-names",children:"Default controller names"}),"\n",(0,r.jsx)(n.p,{children:"By default, when there are no attributes in the OpenAPI document that specify controller or operation names, OAS Tools generates a name for them:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["For controllers, the generated has the following format ",(0,r.jsx)(n.code,{children:"{endpoint}Controller"})," removing the endpoint slashes ",(0,r.jsx)(n.code,{children:"/"})]}),"\n",(0,r.jsxs)(n.li,{children:["For methods, similarly to controllers, the generated name format is ",(0,r.jsx)(n.code,{children:"func{endpoint}"})," removing endpoint slashes."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"For example, assuming the following OpenAPI document:"}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"","data-nextra-code":"",children:(0,r.jsx)(n.pre,{children:(0,r.jsxs)(n.code,{"data-language":"yaml","data-theme":"default",children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"openapi"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3.0.0"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"info"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"version"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1.0.0"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"title"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"Quickstart"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"description"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"Quickstart for OAS-Tools"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"paths"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"/api/v1/entity"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"get"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"responses"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'200'"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"description"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"Success"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"content"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"application/json"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"              "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"schema"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"object"})]})]})})}),"\n",(0,r.jsxs)(n.p,{children:["The generated name for the controller handling ",(0,r.jsx)(n.code,{children:"/api/v1/entity"})," endpoint would be ",(0,r.jsx)(n.code,{children:"apiv1entityController"}),", and the operation name for the GET would be ",(0,r.jsx)(n.code,{children:"funcapiv1entity"}),". That way, when making a GET request to ",(0,r.jsx)(n.code,{children:"{server}/api/v1/entity"}),", the execution flow would be redirected to the ",(0,r.jsx)(n.code,{children:"funcapiv1entity"})," inside ",(0,r.jsx)(n.code,{children:"{controllers}/apiv1entityController.js"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"x-router-controller",children:"x-router-controller"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"x-router-controller"})," property can be added at the path level or at the operation level of an OpenAPI declaration. When declared at path level, all operations for that path will be redirected to the specified controller unless different is specified through ",(0,r.jsx)(n.code,{children:"x-router-controller"})," at the operation level. That means the operation level overrides what is specified on the path level. The following example describes this situation:"]}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"","data-nextra-code":"",children:(0,r.jsx)(n.pre,{children:(0,r.jsxs)(n.code,{"data-language":"yaml","data-theme":"default",children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"openapi"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3.0.0"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"info"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"version"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1.0.0"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"title"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"Quickstart"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"description"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"Quickstart for OAS-Tools"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"paths"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"/api/v1/entity"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"x-router-controller"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"EntityController"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Path level"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"get"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"responses"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'200'"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"description"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"Success"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"content"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"application/json"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"              "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"schema"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"object"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"post"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"x-router-controller"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"DifferentController"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# Operation level"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"responses"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'201'"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"description"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"Success"})]})]})})}),"\n",(0,r.jsxs)(n.p,{children:["Using the above declaration, when making a GET request to ",(0,r.jsx)(n.code,{children:"/api/v1/entity"}),", the control flow would be redirected to ",(0,r.jsx)(n.code,{children:"funcapiv1entity"})," inside ",(0,r.jsx)(n.code,{children:"EntityController.js"})," since the default controller name is overriden by the ",(0,r.jsx)(n.code,{children:"x-router-controller"})," at the path level. However, when making a POST request to the same endpoint, the router middleware would redirect to ",(0,r.jsx)(n.code,{children:"DifferentController"})," because the operation level has priority over the path level ",(0,r.jsx)(n.code,{children:"x-router-controller"})," property."]}),"\n",(0,r.jsx)(n.h4,{id:"operation-id",children:"Operation Id"}),"\n",(0,r.jsxs)(n.p,{children:["The default names don't work well when having multiple operations on the same path, since the generated name would be the same for all of them and therefore the same function would be handling multiple REST operations in a controller. That's where the ",(0,r.jsx)(n.code,{children:"operationId"})," attribute takes action. OAS Tools read the ",(0,r.jsx)(n.code,{children:"operationId"})," from each of the operations declared for a path and loads the function with that name in the corresponding controller, preventing a single function handling multiple operations for a path."]}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"","data-nextra-code":"",children:(0,r.jsx)(n.pre,{children:(0,r.jsxs)(n.code,{"data-language":"yaml","data-theme":"default",children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"openapi"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"3.0.0"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"info"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"version"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"1.0.0"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"title"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"Quickstart"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"description"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"Quickstart for OAS-Tools"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"paths"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"/api/v1/entity"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"x-router-controller"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"EntityController"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"get"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"operationId"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"getEntity"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"responses"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'200'"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"description"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"Success"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"content"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"application/json"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"              "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"schema"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"type"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"object"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"post"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"operationId"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"postEntity"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"responses"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'201'"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"          "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"description"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"Success"})]})]})})}),"\n",(0,r.jsxs)(n.p,{children:["When making a GET request to ",(0,r.jsx)(n.code,{children:"/api/v1/entity"})," endpoint of an OAS Tools server implementing the functionality for the above OpenAPI declaration, the Router middleware would redirect the traffic to ",(0,r.jsx)(n.code,{children:"getEntity"})," function inside ",(0,r.jsx)(n.code,{children:"EntityController.js"}),"."]}),"\n",(0,r.jsxs)(n.h3,{id:"through-jsdoc-annotations-experimental",children:["Through JSDoc annotations ",(0,r.jsx)(n.em,{children:"(Experimental)"})]}),"\n",(0,r.jsx)(d.Z,{type:"warning",emoji:"\u26a0",children:(0,r.jsx)(n.p,{children:"This feature is experimental and may suffer changes or be completely removed or replaced by Javascript decorators in future versions. Feedback is appreciated!"})}),"\n",(0,r.jsxs)(n.p,{children:["In order to use this feature, you first need to enable it through configuration: ",(0,r.jsx)(n.code,{children:"useAnnotations = true"}),". Once enabled, you will be able to write JSDoc style annotations to configure your project's operation. Read more about JSDoc annotations in the ",(0,r.jsx)(n.a,{href:"https://jsdoc.app/",children:"JSDoc documentation"}),". The next sections describe predefined annotations that can be used to configure routing."]}),"\n",(0,r.jsx)(n.h4,{id:"the-controller-annotation",children:"The Controller annotation"}),"\n",(0,r.jsxs)(n.p,{children:["This annotation will tell the router middleware that the current file is a controller that handles request for some endpoint path. It must be placed in the first line of the file with the following format: ",(0,r.jsx)(n.code,{children:"@oastools {Controller} <path>"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Using this approach, it is no longer necessary to name your controllers in a certain way. However is is still necessary to place them under the ",(0,r.jsx)(n.code,{children:"{controllers}/"})," directory set in configuration. For example, the following file would be identified as a controller handling requests to ",(0,r.jsx)(n.code,{children:"/api/v1/users"}),":"]}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"","data-nextra-code":"",children:(0,r.jsx)(n.pre,{children:(0,r.jsxs)(n.code,{"data-language":"js","data-theme":"default",children:[(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// controllers/randomName.js"})}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/** "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"@oastools"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" {Controller} /api/v1/users */"})]}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"someDependency"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"require"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'whatever'"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."})})]})})}),"\n",(0,r.jsx)(n.h4,{id:"the-method-annotation",children:"The Method annotation"}),"\n",(0,r.jsxs)(n.p,{children:["This annotation must be used on top of function declarations. It tells the framework which type of request is handled by the annotated function. Just like with controller annotation, this annotations makes no longer necessary to name the functions a certain way. The format followed by the method annotation is: ",(0,r.jsx)(n.code,{children:"@oastools {method} <METHOD>"}),", for example:"]}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"","data-nextra-code":"",children:(0,r.jsx)(n.pre,{children:(0,r.jsxs)(n.code,{"data-language":"js","data-theme":"default",children:[(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// controllers/randomName.js"})}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/** "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"@oastools"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" {Controller} /api/v1/users */"})]}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/**"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"@oastools"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" {method} GET"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" */"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"module"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"exports"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"someFunction"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"aGetRequest"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(req"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" res) {"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/* Do something */"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})})}),"\n",(0,r.jsxs)(n.p,{children:["The code above would be identified as a GET handler for ",(0,r.jsx)(n.code,{children:"/api/v1/users"}),". This way, when making a GET request to that endpoint, the router middleware will execute that function."]}),"\n",(0,r.jsx)(n.h4,{id:"the-path-annotation",children:"The Path annotation"}),"\n",(0,r.jsxs)(n.p,{children:["The path annotation allows to attach a subpath to the controllers path. It is useful when the endpoint takes parameters in the path. It is formatted as ",(0,r.jsx)(n.code,{children:"@oastools {path} <subpath>"}),", for example:"]}),"\n",(0,r.jsx)(n.div,{"data-rehype-pretty-code-fragment":"","data-nextra-code":"",children:(0,r.jsx)(n.pre,{children:(0,r.jsxs)(n.code,{"data-language":"js","data-theme":"default",children:[(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// controllers/randomName.js"})}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/** "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"@oastools"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" {Controller} /api/v1/users */"})]}),"\n",(0,r.jsx)(n.span,{className:"line"}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/**"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"@oastools"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" {method} GET"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" * "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"@oastools"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" {path} /{id}"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:" */"})}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"module"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"exports"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"someFunctionWithId"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"aGetRequestWithId"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(req"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" res) {"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"/* Do something */"})]}),"\n",(0,r.jsx)(n.span,{className:"line",children:(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"};"})})]})})}),"\n",(0,r.jsxs)(n.p,{children:["The function declared above would handle GET requests to ",(0,r.jsx)(n.code,{children:"/api/v1/users/{id}"}),", since the ",(0,r.jsx)(n.code,{children:"/{id}"})," subpath has been specified by the annotation."]})]})}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},(0,c.ah)(),e.components),s=n.wrapper;return s?(0,r.jsx)(s,(0,t.Z)((0,o.Z)({},e),{children:(0,r.jsx)(k,(0,o.Z)({},e))})):k(e)}function j(e){return(0,r.jsx)(x,(0,t.Z)((0,o.Z)({},e),{children:(0,r.jsx)(y,{})}))}j.getLayout=x.getLayout,n.default=j},7663:function(e){!function(){var n={308:function(e){var n,s,o=e.exports={};function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(n===setTimeout)return setTimeout(e,0);if((n===t||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(o){try{return n.call(null,e,0)}catch(o){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:t}catch(e){n=t}try{s="function"===typeof clearTimeout?clearTimeout:r}catch(e){s=r}}();var l,a=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?a=l.concat(a):h=-1,a.length&&p())}function p(){if(!c){var e=i(d);c=!0;for(var n=a.length;n;){for(l=a,a=[];++h<n;)l&&l[h].run();h=-1,n=a.length}l=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===r||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(n){try{return s.call(null,e)}catch(n){return s.call(this,e)}}}(e)}}function x(e,n){this.fun=e,this.array=n}function k(){}o.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)n[s-1]=arguments[s];a.push(new x(e,n)),1!==a.length||c||i(p)},x.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=k,o.addListener=k,o.once=k,o.off=k,o.removeListener=k,o.removeAllListeners=k,o.emit=k,o.prependListener=k,o.prependOnceListener=k,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}},i=!0;try{n[e](r,r.exports,o),i=!1}finally{i&&delete s[e]}return r.exports}o.ab="//";var t=o(308);e.exports=t}()},3952:function(e,n,s){"use strict";s.d(n,{Z:function(){return r}});var o=s(7294),t={default:"bg-orange-50 border border-orange-100 text-orange-800 dark:text-orange-300 dark:bg-orange-400 dark:border-orange-400 dark:bg-opacity-20 dark:border-opacity-30",error:"bg-red-100 border border-red-200 text-red-900 dark:text-red-200 dark:bg-red-900 dark:bg-opacity-30 dark:border-opacity-30",info:"bg-blue-100 border border-blue-200 text-blue-900 dark:text-blue-200 dark:bg-blue-900 dark:bg-opacity-30 dark:border-opacity-30",warning:"bg-yellow-50 border border-yellow-100 text-yellow-900 dark:text-yellow-200 dark:bg-yellow-700 dark:bg-opacity-30"},r=({children:e,type:n="default",emoji:s="\ud83d\udca1"})=>o.createElement("div",{className:`${t[n]} flex rounded-lg nextra-callout mt-6`},o.createElement("div",{className:"pl-3 pr-2 py-2 select-none text-xl",style:{fontFamily:'"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}},s),o.createElement("div",{className:"pr-4 py-2"},e))}},function(e){e.O(0,[578,873,743,774,888,179],(function(){return n=8364,e(e.s=n);var n}));var n=e.O();_N_E=n}]);